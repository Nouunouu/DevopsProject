version: "3.8"
services:
 app:
  image: spring-app:latest
  build:
   context: .
   dockerfile: Dockerfile
  ports:
   - "8089:8089"
  environment:
   - SPRING_DATASOURCE_URL=jdbc:mysql://localhost:3306/kaddem?&createDatabaseIfNotExist=true&useUnicode=true&useJDBCCompliantTimezoneShift=true&useLegacyDatetimeCode=false&serverTimezone=UTC
   - SPRING_DATASOURCE_USERNAME=root
   - SPRING_DATASOURCE_PASSWORD=root
  depends_on:
   - db
 db:
  image: mysql:latest
  environment:
   MYSQL_ROOT_PASSWORD: root
   MYSQL_DATABASE: kaddem
  ports:
   - "3306:3306"
